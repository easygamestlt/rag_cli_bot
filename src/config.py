"""
Файл конфигурации проекта RAG + Qdrant + Telegram bot + Ollama.
Все параметры можно переопределить через переменные окружения.
"""

import os

# -------------------
# Модели Ollama
# -------------------

EMBED_MODEL = os.environ.get("EMBED_MODEL", "nomic-embed-text")
"""str: Название модели для генерации эмбеддингов (по умолчанию `nomic-embed-text`).
Используется при векторизации текста для поиска в Qdrant.
Можно переопределить через переменную окружения EMBED_MODEL.
"""

GEN_MODEL = os.environ.get("GEN_MODEL", "qwen3:8b")
"""str: Название модели генерации ответов в Ollama (по умолчанию `qwen3:8b`).
Отвечает за формирование итогового ответа пользователю на основе найденного контекста.
Можно переопределить через переменную окружения GEN_MODEL.
"""

# -------------------
# Параметры Qdrant
# -------------------

QDRANT_HOST = os.environ.get("QDRANT_HOST", "localhost")
"""str: Хост (адрес) Qdrant сервера (по умолчанию `localhost`).
Используется клиентом Qdrant для подключения к базе векторных данных.
"""

QDRANT_PORT = int(os.environ.get("QDRANT_PORT", "6333"))
"""int: Порт Qdrant сервера (по умолчанию `6333`).
Если Qdrant работает в Docker — порт должен быть проброшен наружу.
"""

# -------------------
# Поиск и выдача
# -------------------

TOP_K = int(os.environ.get("TOP_K", "5"))
"""int: Количество наиболее релевантных фрагментов (chunk'ов), возвращаемых из Qdrant при поиске.
Чем выше значение, тем больше контекста попадёт в генерацию ответа, но медленнее будет работа.
"""

# -------------------
# Разбиение текста
# -------------------

CHUNK_SIZE = int(os.environ.get("CHUNK_SIZE", "1100"))
"""int: Размер одного фрагмента текста (chunk) в символах при индексации.
Большие значения = меньше фрагментов, но выше риск выхода за пределы контекста модели.
"""

CHUNK_OVERLAP = int(os.environ.get("CHUNK_OVERLAP", "180"))
"""int: Количество символов, на которое перекрываются соседние фрагменты текста.
Перекрытие нужно для того, чтобы не потерялась связность смысловых блоков между chunk'ами.
"""

# -------------------
# HTTP-запросы
# -------------------

HEADERS = {"User-Agent": "Mozilla/5.0 (compatible; RAG-Ollama/1.0)"}
"""dict: HTTP-заголовки по умолчанию для запросов при скачивании HTML-страниц.
User-Agent задан для имитации обычного браузера и предотвращения блокировок.
"""

TIMEOUT = 20
"""int: Таймаут (в секундах) для HTTP-запросов при скачивании страниц.
Если страница не отвечает за это время — запрос будет прерван.
"""
